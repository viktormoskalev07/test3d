/*!
 * Start Bootstrap - New Age v5.0.1 (https://startbootstrap.com/template-overviews/new-age)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-new-age/blob/master/LICENSE)
 */

const SLIDERS={features:"featuresSlider",gallery:"gallerySlider",testimonials:"testimonialsSlider"};class Slider{constructor(t){const e=document.getElementById(SLIDERS[t]);if(this.wrapper=e,e){if("features"===(this.type=t)){this.slides=[];var i=Array.from(e.querySelectorAll(".title span")),s=Array.from(e.querySelectorAll("figure.web .foreground img")),r=Array.from(e.querySelectorAll("figure.phone .foreground img"));for(let t=0;t<i.length;t++)this.slides.push({title:i[t],web:s[t],phone:r[t]})}else this.slider=e.querySelector(".slides"),this.slidesWrapper=e.querySelector(".slides-wrapper"),this.slides=Array.from(e.querySelectorAll(".slide"));this.arrowLeft=e.querySelector(".control.left"),this.arrowRight=e.querySelector(".control.right")}}init(t=!1,e=1e3){this.isDragging=!1,this.startPos=0,this.currentTranslate=0,this.prevTranslate=0,this.animationID=null,this.currentIndex=0,this.intervalID=null,this.intervalTime=e,this.auto=t,"features"!==this.type&&this.slides.forEach((t,e)=>{t.addEventListener("touchstart",t=>{this.touchStart(t,e)},{passive:!0}),t.addEventListener("touchend",this.touchEnd,{passive:!0}),t.addEventListener("touchmove",this.touchMove,{passive:!0})}),this.arrowLeft.addEventListener("click",this.slideLeft),this.arrowRight.addEventListener("click",this.slideRight);const i=this.wrapper.querySelector(".indicators");if(i)for(let t=0;t<this.slides.length;t++){const s=document.createElement("div");s.classList.add("indicator"),0===t&&s.classList.add("active"),i.append(s)}this.indicators=Array.from(this.wrapper.querySelectorAll(".indicator")),t&&(this.intervalID=setInterval(()=>{this.nextSlide()},this.intervalTime))}getPositionX(t){return t.touches[0].clientX}touchStart=(t,e)=>{768<=window.innerWidth||(this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null),this.currentIndex=e,this.startPos=this.getPositionX(t),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation))};touchEnd=()=>{var t;768<=window.innerWidth||(cancelAnimationFrame(this.animationID),this.isDragging=!1,(t=this.currentTranslate-this.prevTranslate)<-100&&this.currentIndex<this.slides.length-1&&(this.currentIndex+=1),100<t&&0<this.currentIndex&&--this.currentIndex,this.setPositionByIndex(),this.auto&&(this.intervalID=setInterval(()=>{this.nextSlide()},this.intervalTime)))};touchMove=t=>{this.isDragging&&(t=this.getPositionX(t),this.currentTranslate=this.prevTranslate+t-this.startPos)};animation=()=>{this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation)};setPositionByIndex(){if("features"===this.type)this.wrapper.querySelector(".title").style.opacity="0",this.slides.forEach((t,e)=>{t.web.style.opacity="0",t.phone.style.opacity="0"}),setTimeout(()=>{this.slides.forEach((t,e)=>{t.title.style.display="none"}),this.slides[this.currentIndex].title.style.display="block",this.wrapper.querySelector(".title").style.opacity="1",this.slides[this.currentIndex].web.style.opacity="1",this.slides[this.currentIndex].phone.style.opacity="1"},300);else if("gallery"===this.type)if(window.innerWidth<=767)this.currentTranslate=-100*this.currentIndex,this.prevTranslate=this.currentTranslate,this.setSliderPosition("%");else{var t=this.slidesWrapper.getBoundingClientRect().width;const r=this.slider.querySelectorAll(".card");var e=r[0].getBoundingClientRect().width+30,i=r.length*e-30,s=Math.floor(t/e);this.currentTranslate=-Math.min(this.currentIndex*(s*e),i-t),this.prevTranslate=this.currentTranslate,this.setSliderPosition("px")}else this.currentTranslate=-100*this.currentIndex,this.prevTranslate=this.currentTranslate,this.setSliderPosition("%");this.updateIndicators(),this.updateControls()}setSliderPosition(t="%"){this.slider.style.transform=`translateX(${this.currentTranslate}${t})`}updateIndicators(){this.indicators.forEach((t,e)=>{e===this.currentIndex?t.classList.add("active"):t.classList.remove("active")})}slideLeft=()=>{this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null),0===this.currentIndex||this.arrowLeft.classList.contains("disabled")||(--this.currentIndex,this.setPositionByIndex(),this.auto&&(this.intervalID=setInterval(()=>{this.nextSlide()},this.intervalTime)))};slideRight=()=>{this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null),this.currentIndex===this.indicators.length-1||this.arrowRight.classList.contains("disabled")||(this.currentIndex+=1,this.setPositionByIndex(),this.auto&&(this.intervalID=setInterval(()=>{this.nextSlide()},this.intervalTime)))};updateControls(){let t=this.indicators.length;if("gallery"===this.type&&768<=window.innerWidth){var e=this.slidesWrapper.getBoundingClientRect().width;const r=this.slider.querySelectorAll(".card");var i=r[0].getBoundingClientRect().width+30,s=r.length*i-30,e=Math.floor(e/i);t=Math.ceil(s/(e*i))}0===this.currentIndex?(this.arrowRight.classList.remove("disabled"),this.arrowLeft.classList.add("disabled")):this.currentIndex===t-1?(this.arrowLeft.classList.remove("disabled"),this.arrowRight.classList.add("disabled")):(this.arrowLeft.classList.remove("disabled"),this.arrowRight.classList.remove("disabled"))}nextSlide(){this.currentIndex=this.currentIndex<this.slides.length-1?this.currentIndex+1:0,this.setPositionByIndex()}}